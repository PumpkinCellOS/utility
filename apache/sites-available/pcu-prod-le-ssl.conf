<IfModule mod_ssl.c>
<VirtualHost *:443>
	# FIXME: Allow setting custom domain name here
	ServerName pumpkincell.duckdns.org
	DocumentRoot ${PCU_DEPLOY_DIR}

	<Directory ${PCU_DEPLOY_DIR}>
		Order deny,allow
		Require all granted
	</Directory>

	ErrorLog ${APACHE_LOG_DIR}/error.log

	<FilesMatch \.php$>
		SetHandler "proxy:unix:/var/run/php/php7.4-fpm.sock|fcgi://localhost"
	</FilesMatch>

	Include /etc/letsencrypt/options-ssl-apache.conf

	# FIXME: Allow setting custom domain name here
	SSLCertificateFile /etc/letsencrypt/live/pumpkincell.duckdns.org/fullchain.pem
	SSLCertificateKeyFile /etc/letsencrypt/live/pumpkincell.duckdns.org/privkey.pem
</VirtualHost>
</IfModule>
